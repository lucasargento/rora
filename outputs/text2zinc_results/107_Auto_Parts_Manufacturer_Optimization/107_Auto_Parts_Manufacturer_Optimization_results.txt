Problem Name: 107_Auto_Parts_Manufacturer_Optimization

Mathematical Formulation:
\[
\begin{array}{rcll}
\textbf{Decision Variables:}  \qquad & & & \\[1mm]
x_p & \in & \mathbb{Z}_{+} & \text{number of batches of part } p,\; p=1,\ldots,P, \text{ with } x_p \ge \text{MinBatches}_p, \\[1mm]
y_m & \in & \mathbb{R}_{+} & \text{extra machine-hours purchased for machine } m,\; m=1,\ldots,M,\; 0\le y_m\le \text{MaxExtra}_m. \\[3mm]
\textbf{Parameters:} \qquad & & & \\
\text{TimeRequired}_{m,p} &:& \text{hours required on machine } m \text{ to produce one batch of part } p, & m=1,\ldots,M,\; p=1,\ldots,P,\\[1mm]
\text{MachineCosts}_{m} &:& \text{cost per hour on machine } m \text{ for regular (available) time}, & m=1,\ldots,M,\\[1mm]
\text{Availability}_{m} &:& \text{available hours per month on machine } m, & m=1,\ldots,M,\\[1mm]
\text{ExtraCosts}_{m} &:& \text{cost per hour for extra (purchased) time on machine } m, & m=1,\ldots,M,\\[1mm]
\text{Prices}_{p} &:& \text{revenue per batch sold of part } p, & p=1,\ldots,P,\\[1mm]
\text{MinBatches}_{p} &:& \text{minimum number of batches required for part } p, & p=1,\ldots,P.\\[3mm]
\textbf{Auxiliary Definitions:} \qquad & & & \\
T_m &=& \displaystyle \sum_{p=1}^{P} \text{TimeRequired}_{m,p}\, x_p, & \forall m=1,\ldots,M.
\end{array}
\]

We now write the full mathematical model.

\[
\begin{array}{rlcl}
\displaystyle \max_{x,y} & Z = \displaystyle \sum_{p=1}^{P} \text{Prices}_{p}\, x_p 
  - \sum_{m=1}^{M} \Bigl[ \text{MachineCosts}_{m} \Bigl( \displaystyle \sum_{p=1}^{P} \text{TimeRequired}_{m,p}\, x_p - y_m \Bigr)
  + \text{ExtraCosts}_{m}\, y_m \Bigr] 
  & & \textbf{(Profit)} \\[2mm]
\text{subject to} \\[1mm]
& \displaystyle \sum_{p=1}^{P} \text{TimeRequired}_{m,p}\, x_p \le \text{Availability}_{m} + y_m, 
  & \forall m=1,\ldots,M, & \textbf{(Machine time capacity)} \\[2mm]
& y_m \ge \displaystyle \sum_{p=1}^{P} \text{TimeRequired}_{m,p}\, x_p - \text{Availability}_{m}, 
  & \forall m=1,\ldots,M, & \textbf{(Extra hours lower bound)} \\[2mm]
& 0 \le y_m \le \text{MaxExtra}_{m}, 
  & \forall m=1,\ldots,M, & \textbf{(Extra time purchase limits)} \\[2mm]
& x_p \ge \text{MinBatches}_{p}, 
  & \forall p=1,\ldots,P, & \textbf{(Contractual minimum production)} \\[2mm]
& x_p \in \mathbb{Z}_{+}, \quad y_m \in \mathbb{R}_{+}, 
  & \forall p=1,\ldots,P,\; \forall m=1,\ldots,M. & \textbf{(Integrality and nonnegativity)}
\end{array}
\]

\textbf{Explanation:}

1. The decision variable xₚ represents the number of batches (each of 100 parts) of part p produced per month. It must be at least the contractual minimum (MinBatchesₚ) and is integer-valued.  
2. The variable yₘ represents the extra machine-hours purchased for machine m beyond its regular monthly availability. It is bounded by the maximum hours that can be purchased (MaxExtraₘ).  
3. For each machine m, the total machine time required (∑ₚ TimeRequiredₘ,ₚ xₚ) can be satisfied using the available hours (Availabilityₘ) plus any extra hours purchased yₘ.  
4. To correctly account for costs, the cost on machine m is given by charging the regular rate (MachineCostsₘ) for the hours used within regular availability and the extra rate (ExtraCostsₘ) for any additional hours (captured by yₘ). This is modeled in the objective function by writing the cost as 
   MachineCostsₘ·(Tₘ – yₘ) + ExtraCostsₘ·yₘ, so that when extra time is needed (i.e. when Tₘ > Availabilityₘ, forcing yₘ = Tₘ – Availabilityₘ), the cost becomes MachineCostsₘ·Availabilityₘ + ExtraCostsₘ·(Tₘ – Availabilityₘ).  
5. The objective function maximizes profit, which is total revenue (from selling batches) minus the total operating costs (including the extra hours cost).

This complete formulation accurately and fully represents the manufacturing and production optimization problem described.

Execution Results:
SUCCESS:
Optimal solution found:
Objective value (Profit): 10050.0
Number of batches for part 1: 70.0
Number of batches for part 2: 10.0
Number of batches for part 3: 10.0
Number of batches for part 4: 10.0
Extra machine-hours purchased for machine 1: -0.0
Extra machine-hours purchased for machine 2: 30.0
Extra machine-hours purchased for machine 3: 0.0


Expected Output:
Expected solution

: {'_objective': 9750.0}
