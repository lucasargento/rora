Problem Name: 17_Daily_Profit_Maximization

Mathematical Formulation:
Below is one fully‐detailed mathematical formulation of the problem. In our formulation we assume that x_i (for i = 1, …, N) represents the (non‐negative, and if desired integer) number of units of product i produced, and O is the non‐negative number of overtime assembly hours actually used. In addition, we introduce a binary variable y∈{0,1} that “activates” the supplier discount on raw materials if the daily raw material cost reaches the threshold. (A sufficiently large constant M is used in the linking constraints for the discount condition.) Finally, to avoid solutions that are “trivial” in the sense of producing only one product or nothing at all, we add a non‐trivial production constraint.

The complete model is given below.

\[
\begin{align*}
\textbf{Decision Variables:} \quad & x_i \ge 0,\quad i=1,\ldots,N, \quad (\text{units of product } i\text{ produced})\\[1mm]
& O \ge 0,\quad (\text{overtime assembly hours used})\\[1mm]
& y \in \{0,1\},\quad (\text{discount indicator: }y=1 \text{ if raw material cost } \ge \text{DiscountThreshold})\\[3mm]
\textbf{Parameters:} \quad &\text{For } i=1,\ldots,N:\\[1mm]
& \quad AssemblyHour_i \, (\text{assembly hours required per unit of product } i)\\[1mm]
& \quad TestingHour_i \, (\text{testing hours required per unit of product } i)\\[1mm]
& \quad MaterialCost_i \, (\$ \text{ raw material cost per unit of product } i)\\[1mm]
& \quad Price_i \, (\$ \text{ selling price per unit of product } i)\\[1mm]
& \text{Other Parameters:}\\[1mm]
& \quad MaxAssembly \, (\text{regular assembly hours available per day})\\[1mm]
& \quad MaxTesting \, (\text{testing hours available per day})\\[1mm]
& \quad MaxOvertimeAssembly \, (\text{maximum overtime assembly hours available})\\[1mm]
& \quad OvertimeAssemblyCost \, (\text{cost per overtime assembly hour})\\[1mm]
& \quad MaterialDiscount \, (\text{percentage discount, e.g. }10\text{ for }10\%\text{ discount})\\[1mm]
& \quad DiscountThreshold \, (\$ \text{ threshold for obtaining the discount})\\[1mm]
& \quad M \, (\text{sufficiently large positive constant})\\[3mm]
\textbf{Objective Function:} \quad &\text{Maximize daily profit } Z, \text{ defined as total revenue minus total cost, that is:}\\[1mm]
\displaystyle \max \quad Z =\; & \sum_{i=1}^N Price_i \, x_i \;-\; \Bigl\{ \left[1-\frac{MaterialDiscount}{100}\,y\right]\,\sum_{i=1}^N MaterialCost_i \, x_i\Bigr\} \;-\; OvertimeAssemblyCost\, O \\[3mm]
\textbf{Subject to:} \quad &&\\[1mm]
\textbf{(1) Assembly hours constraint:} \quad & \sum_{i=1}^N AssemblyHour_i\, x_i \le MaxAssembly \,+\, O, \quad &\text{(total assembly hours needed can be met by regular and overtime assembly)}\\[1mm]
\textbf{(2) Overtime limit:} \quad & O \le MaxOvertimeAssembly, \quad &\text{(overtime hours cannot exceed capacity)}\\[1mm]
\textbf{(3) Testing hours constraint:} \quad & \sum_{i=1}^N TestingHour_i\, x_i \le MaxTesting, \quad &\text{(total testing hours requirement is bounded)}\\[1mm]
\textbf{(4) Discount activation constraints:}\\[1mm]
& \sum_{i=1}^N MaterialCost_i\, x_i \ge DiscountThreshold\;y, \quad &\text{(if }y=1,\text{ raw material cost must meet threshold)}\\[1mm]
& \sum_{i=1}^N MaterialCost_i\, x_i \le DiscountThreshold \;+\; M\,(1-y), \quad &\text{(if }y=0,\text{ total cost is forced to be below or near the threshold)}\\[1mm]
\textbf{(5) Non‐trivial production constraint:} \quad & \sum_{i=1}^N x_i \ge 1, \quad &\text{(at least one unit of some product is produced)}
\end{align*}
\]

A few notes on the formulation:

• The material cost in the objective is charged at full price if y = 0 and at a discounted price (i.e. multiplied by 1 – MaterialDiscount/100) when y = 1.  
• The binary discount indicator y is linked to the raw material spending through the Big‑M constraints.  
• All constraints together ensure feasibility and boundedness of the problem.

This complete model accurately represents all aspects of the problem and is ready to be implemented in an OR‑tools model by another solver.

Execution Results:
SUCCESS:
Solution:
Product 0: 240.0 units
Product 1: 0.0 units
Overtime assembly hours used (O): 50.00000000000001
Discount activated (y): 0.0
Total raw material cost (T): 288.00000000000006
Objective value (Profit): 1622.0


Expected Output:
Expected solution

: {'_objective': 339000.0}
